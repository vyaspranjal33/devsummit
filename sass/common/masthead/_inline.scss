/*!
 *
 * Copyright 2016 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the Liacense is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

.masthead {
  position: relative;

  &:after {
    content: '';
    background: url(/devsummit/static/images/masthead/spinner.png) center center no-repeat;
    background-size: 32px 32px;
    border-radius: 50%;
    width: $baseline * 8;
    height: $baseline * 8;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 50%;
    left: 50%;
    will-change: opacity;
    transform: translate(-50%, -50%);
  }

  &--spinner:after {
    opacity: 1;
    animation-name: spin;
    animation-duration: 1s;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
  }
}

@keyframes spin {
  from {
    transform: translate(-50%, -50%) rotate(0deg);
  }

  to {
    transform: translate(-50%, -50%) rotate(360deg) ;
  }
}

.animatable .masthead--spinner:after {
  transition: opacity 0.3s cubic-bezier(0, 0, 0.3, 1);
}

.masthead__graphic,
.masthead__graphic-underlay {
  position: relative;
  height: $baseline * 34;
}

.masthead__graphic-underlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
}

.animatable .masthead__graphic {
  transition: opacity 0.5s cubic-bezier(0, 0, 0.3, 1);
}

.animatable.hide-areas .masthead__graphic {
  opacity: 0;
}

.masthead.expanded {
  margin-bottom: $baseline * 6;
}

.masthead svg {
  position: absolute;
  top: 0;
  left: 0;
}

.masthead-underlay {
  position: absolute;
  height: $baseline * 106;
  padding-top: $baseline * 48;
  width: 100%;
  top: 0;
  left: 0;
  transform: translateY(-66%);
}

.animatable .masthead-underlay {
  transition: transform 0.6s cubic-bezier(0.7, 0, 0.4, 1);
}

.masthead-underlay__content {
  position: absolute;
  left: 50%;
  bottom: 5vmax;
  max-width: $baseline * 108;
  width: 100%;
  overflow: hidden;
  transform: translateX(-50%);
}

.masthead svg.masthead-underlay__divider {
  content: '';
  position: absolute;
  left: 50%;
  top: auto;
  height: 400px;
  width: $baseline * 4;
  bottom: $baseline * 2;
  transform: translateX(-75%);
  display: none;
}

.masthead svg.masthead-underlay__accent {
  position: absolute;
  top: 50%;
  left: 0;
  transform: translateY(-147%);
}

.masthead.expanded .masthead-underlay {
  transform: translateY(0);
}

.masthead__title {
  display: none;
  position: absolute;
  bottom: $baseline;
  white-space: nowrap;
  width: 100%;
  left: 50%;
  padding: 0 $baseline;
  transform: translateX(-50%);
  max-width: $baseline * 108;
}

.animatable .masthead__title {
  will-change: transform;
  transition: transform 0.4s cubic-bezier(0, 0, 0.3, 1),
      opacity 0.4s cubic-bezier(0, 0, 0.3, 1);
}

.animatable.hide-areas .masthead__title {
  transform: translateX(-50%) translateX($baseline * 2);
  opacity: 0;
}

@media (min-width: 424px) {
  .masthead__graphic,
  .masthead__graphic-underlay {
    height: $baseline * 46;
  }

  .masthead-underlay {
    height: $baseline * 116;
    padding-top: $baseline * 50;
    transform: translateY(-59%);
  }

  .masthead.expanded {
    margin-bottom: $baseline * 12;
  }

  .masthead__title {
    bottom: $baseline * 3;
  }

  .masthead svg.masthead-underlay__accent {
    transform: translateY(-110%);
  }
}

@media (min-width: 600px) {
  .masthead__graphic,
  .masthead__graphic-underlay {
    height: $baseline * 58;
  }

  .masthead-underlay {
    height: $baseline * 108;
    padding-top: $baseline * 50;
    transform: translateY(-45%);
  }

  .masthead.expanded {
    margin-bottom: $baseline * 12;
  }

  .masthead svg.masthead-underlay__accent {
    transform: translateY(-90%);
  }

  .masthead.expanded svg.masthead-underlay__divider {
    display: block;

    &.masthead-underlay__divider--invisible {
      display: none;
    }
  }
}

@media (min-width: 1440px) {
  .masthead__graphic,
  .masthead__graphic-underlay {
    height: $baseline * 70;
  }

  .masthead-underlay {
    height: $baseline * 112;
    padding-top: $baseline * 50;
    transform: translateY(-37%);
  }

  .masthead.expanded {
    margin-bottom: $baseline * 8;
  }

  .masthead svg.masthead-underlay__accent {
    transform: translateY(-74%);
  }

  .masthead svg.masthead-underlay__divider {
    bottom: $baseline * 2.5;
  }
}

@media (min-width: 1840px) {
  .masthead__graphic,
  .masthead__graphic-underlay {
    height: $baseline * 90;
  }

  .masthead-underlay {
    height: $baseline * 134;
    padding-top: $baseline * 50;
    transform: translateY(-33%);
  }

  .masthead.expanded {
    margin-bottom: $baseline * 8;
  }

  .masthead svg.masthead-underlay__accent {
    transform: translateY(-54%);
  }

  .masthead svg.masthead-underlay__divider {
    bottom: $baseline * 2.5;
  }
}
